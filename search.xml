<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>情報採取手順</title>
      <link href="/blog/2020/08/31/Collectinfo_AzureConnection/"/>
      <url>/blog/2020/08/31/Collectinfo_AzureConnection/</url>
      
        <content type="html"><![CDATA[<p>Azure Machine Learning のポータル (<a href="https://ml.azure.com/" target="_blank" rel="noopener">https://ml.azure.com/</a>) 利用時に、HTTP エラーなどネットワーク関連のエラーが発生した場合の、情報採取手順を紹介します。  </p><a id="more"></a><br><hr><h2 id="対象"><a href="#対象" class="headerlink" title="対象"></a>対象</h2><p>事象の再現が可能な端末 (OS: Windows 10 の各バージョン)</p><h2 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h2><p><a href="https://jpmlblog.github.io//files/CollectInfo_AzureConnection.txt" title="CollectInfo_AzureConnection.txt">こちら</a> から CollectInfo_AzureConnection.txt ファイルをダウンロードし、拡張子を .txt から .bat に変更、実施対象の任意の場所に格納します。  </p><p>&lt;実施対象に以下が存在する状態&gt;<br>・ [任意の場所]\CollectInfo_AzureConnection.bat ファイル</p><h2 id="影響"><a href="#影響" class="headerlink" title="影響"></a>影響</h2><p>ログを採取することで負荷が上がる可能性は考えられますが、基本的に OS リソースや処理への影響はありません。 </p><h2 id="実行手順"><a href="#実行手順" class="headerlink" title="実行手順"></a>実行手順</h2><p>(1) 再現確認用マシンに管理者アカウントでログオンします。<br>(2) CollectInfo_AzureConnection.bat ファイルを右クリックし、[管理者として実行] を選択します。<br>(3) “実行したい番号を入力ください” メッセージに 1 を入力、リターン キーを押下し、表示に従いメニューに戻ります。  </p><p>※ CollectInfo_AzureConnection.bat のコマンド プロンプトは起動したままにしておきます。  </p><p>(4) Microsoft Edge (Chromium) または Chrome を起動します。  </p><p>※ (5) ～ (11) の手順は 「<a href="https://docs.microsoft.com/ja-jp/azure/azure-portal/capture-browser-trace" target="_blank" rel="noopener">トラブルシューティングのためにブラウザー トレースをキャプチャする</a>」 の内容を参考にしています。上記以外のブラウザーを使用する場合、こちらのサイトを参考に実行ください。  </p><p>(5) F12 キーを押下し、デベロッパー ツールを起動します。<br>(6) [Network]タブを選択し、[Preserve log] を選択します。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-network-preserve-log.png" alt="chromium-network-preserve-log.png">  </p><p>(7) [Console] タブを選択し、[Console settings] を選択してから、[Preserve Log] を選択します。[Console settings] をもう一度選択して、設定ペインを閉じます。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-console-preserve-log.png" alt="chromium-console-preserve-log.png">  </p><p>(8) [Network] タブを選択し、 [Stop recording network log] と [Clear] を選択します。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-stop-clear-session.png" alt="chromium-stop-clear-session.png">  </p><p>(9) [Record network log] を選択して、問題を再現します。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-start-session.png" alt="chromium-start-session.png">  </p><p>※ 事象の再現を確認、そのまま十数秒ほど待ちます。  </p><p>(10) [Stop recording network log] を選択し、 [Export HAR] を選択して任意の場所に .har ファイルを保存します。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-network-export-har.png" alt="chromium-network-export-har.png">  </p><p>(11) <a href="コンソール">Console</a> タブを選択します。いずれかのメッセージを右クリックし、 [Save as…] を選択して、任意の場所に .log ファイルを保存します。  </p><p><img src="https://docs.microsoft.com/ja-jp/azure/azure-portal/media/capture-browser-trace/chromium-console-select.png" alt="chromium-console-select.png">  </p><p>※ 以下、CollectInfo_AzureConnection.bat のコマンド プロンプトにて再度操作を実施します。  </p><p>(12) “実行したい番号を入力ください” メッセージに 2 を入力、リターン キーを押下し、表示に従いメニューに戻ります。<br>(13) “実行したい番号を入力ください” メッセージに 3 を入力、リターン キーを押下し、表示に従いメニューに戻ります。<br>(14) “実行したい番号を入力ください” メッセージに q を入力、リターン キーを押下してツールを終了します。<br>(15) 手順 (10) および (11) で保存したファイルと、デスクトップ上 &lt;YYYYMMDD 形式の年月日&gt;_&lt;ホスト名&gt;_info フォルダーをまとめて ZIP 圧縮し、お問い合わせいただく際にご提供ください。  </p><hr><p>本記事は 「<a href="https://jpmlblog.github.io/blog/2020/01/01/about-jpmlblog/">jpmlblog について</a>」 の留意事項に準じます。  </p><p><code>変更履歴</code><br><code>9999/12/31 created by ******</code></p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 情報採取手順 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure Machine Learning ワークスペースの作成が Internet Explorer 11 で失敗する</title>
      <link href="/blog/2020/08/31/AML_IE11/"/>
      <url>/blog/2020/08/31/AML_IE11/</url>
      
        <content type="html"><![CDATA[<p>Internet Explorer 11 利用時に確認できている現象について紹介します。</p><a id="more"></a><br><hr><p>Azure Machine Learning ワークスペースの作成が Internet Explorer 11 失敗するといった報告が複数件寄せられております。  </p><div style="text-align: center;">※ 下記表示のまま、状態が遷移しません。 <img src="https://jpmlblog.github.io/images/AML-IE11/Create-workspace-error.png" width=600px></div>    <p>また、Azure Machine Learning ポータル (<a href="https://ml.azure.com/" target="_blank" rel="noopener">https://ml.azure.com/</a>) の操作においても予期しないエラーが発生するといった報告もございます。これらの事象は、別のブラウザ (Microsoft Edge または Chrome) を使用することで回避できる可能性があります。  </p><p>Internet Explorer 11 は弊社サービスに限らず幅広い Web サービスで、順次サポート対象外になる予定です。恐れ入りますが、現段階で Microsoft Edge などへの移行をご検討ください。  </p><ul><li><a href="https://blogs.windows.com/japan/2020/08/18/microsoft-365-apps-say-farewell-to-internet-explorer-11/" target="_blank" rel="noopener">Microsoft 365 アプリの Internet Explorer 11 のサポート終了と Windows 10 での Microsoft Edge レガシー版のサービス終了</a></li></ul><hr><p><code>変更履歴</code><br><code>2020-08-31 created by Mochizuki</code></p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Internet Explorer 11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure Machine Learning Studio でモデル登録およびデプロイする場合の留意点について</title>
      <link href="/blog/2020/08/25/AML-register-and-deploy-model/"/>
      <url>/blog/2020/08/25/AML-register-and-deploy-model/</url>
      
        <content type="html"><![CDATA[<p>Azure Machine Learning Studio でモデル登録する場合の留意点についてお纏めします。</p><a id="more"></a><br><hr><p>Azure Machine Learning Studio (<a href="https://ml.azure.com/" target="_blank" rel="noopener">https://ml.azure.com/</a>) のユーザー インターフェイスでは、モデル登録およびデプロイを行うことができます。この時、設定方法が誤っているとモデルのデプロイ操作が長時間完了せず、結果として登録が失敗する場合があります。  </p><p>本記事では、具体的な例を挙げて手順を詳細させていただきます。  </p><hr><h2 id="モデルの登録"><a href="#モデルの登録" class="headerlink" title="モデルの登録"></a>モデルの登録</h2><p>Azure Machine Learning Studio (<a href="https://ml.azure.com/" target="_blank" rel="noopener">https://ml.azure.com/</a>) の [アセット] - [モデル] の [+ モデルの登録] をクリックします。  </p><img src="https://jpmlblog.github.io/images/AML-register-and-deploy-model/Register-model-button.png" width=500px>  <p>表示された入力項目のうち、* マークのある項目を全て埋めて [登録] ボタンをクリックします。  </p><img src="https://jpmlblog.github.io/images/AML-register-and-deploy-model/Register-model-config.png" width=400px>  <p>この時、以下の点に留意ください。</p><ul><li>モデル フレームワークを誤って選択するとデプロイに失敗します。不明な場合には、[その他] を選択し、フレーム ワーク名、バージョンは空欄にします。指定するとデプロイが簡略化されますが、指定しなくても登録可能です。<br> (参考情報) <a href="https://docs.microsoft.com/ja-jp/python/api/azureml-core/azureml.core.model(class)?view=azure-ml-py" target="_blank" rel="noopener">Model class</a>  <blockquote><p>The framework of the registered model. Using the system-supported constants from the Framework class allows for simplified deployment for some popular frameworks.</p></blockquote></li></ul><hr><h2 id="モデルのデプロイ"><a href="#モデルのデプロイ" class="headerlink" title="モデルのデプロイ"></a>モデルのデプロイ</h2><p>Azure Machine Learning Studio (<a href="https://ml.azure.com/" target="_blank" rel="noopener">https://ml.azure.com/</a>) の [アセット] - [モデル] より、登録されているモデルをクリックします。  </p><img src="https://jpmlblog.github.io/images/AML-register-and-deploy-model/Deploy-model-button.png" width=500px>  <p>表示された入力項目のうち、* マークのある項目を全て埋めて [登録] ボタンをクリックします。  </p><img src="https://jpmlblog.github.io/images/AML-register-and-deploy-model/Deploy-model-config.png" width=400px>  <p>この時、以下の点に留意ください。  </p><ul><li><p>エントリ スクリプト ファイルおよび Conda 依存関係ファイルは下記サイトを参考にご準備ください。<br> (参考情報) <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-deploy-and-where?tabs=python#define-an-entry-script" target="_blank" rel="noopener">エントリ スクリプトを定義する</a><br> (参考情報) <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-deploy-and-where?tabs=python#define-an-inference-configuration" target="_blank" rel="noopener">推論構成を定義する</a>  </p></li><li><p>エントリ スクリプト ファイルのモデル指定に誤りがあったり、Conda 依存関係ファイルが誤っていると、デプロイ操作がエラーの表示なく長時間完了しない場合があります。デプロイ先のリソースにエラーが記録されている場合がありますので、厳密な調査が必要となりましたら、モデルファイル、エントリ スクリプト ファイル、Conda 依存関係ファイルと共にサポート リクエストを発行ください。  </p></li></ul><p><b><u>(参考) 自動 ML (Automated Machine Learning) のモデルのデプロイ</b></u><br>自動 ML の実行結果からモデルをデプロイする場合、エントリ スクリプト ファイルおよび Conda 依存関係ファイルを指定する必要はありません。具体的な操作内容は下記サイトを参照ください。<br>(参考情報) <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-use-automated-ml-for-ml-models#deploy-your-model" target="_blank" rel="noopener">モデルをデプロイする</a></p><hr><p><code>変更履歴</code><br><code>2020/08/25 created by Mochizuki</code>  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Studio </tag>
            
            <tag> モデル登録 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>モデルを仮想ネットワーク上の Azure Container Instances (ACI) にデプロイする方法について</title>
      <link href="/blog/2020/08/18/AML-deploy-aci-vnet/"/>
      <url>/blog/2020/08/18/AML-deploy-aci-vnet/</url>
      
        <content type="html"><![CDATA[<p>モデルを仮想ネットワーク上の ACI にデプロイする方法について紹介します。  </p><p>Azure Machine Learning に仮想ネットワーク (Azure Virtual Network: VNET) を使用することで、機械学習のライフサイクルをセキュリティで保護することが可能になります。例えば、ACI を仮想ネットワークに置くことで、Web エンドポイントをパブリック インターネットから保護することができます。  </p><a id="more"></a><br><hr><p>Azure Machine Learning を使用して Azure Container Instances (ACI) にモデルを Web サービスとしてデプロイする方法は、以下の公開情報が参考になります。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-deploy-azure-container-instance" target="_blank" rel="noopener">Azure Container Instances にモデルをデプロイする</a>  </li></ul><p>仮想ネットワーク上の ACI にモデルをデプロイする方法は、以下の公開情報に記載されておりますが、手順が分かりづらいため、後述に具体的な手順を紹介させていただきます。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-enable-virtual-network#use-azure-container-instances-aci" target="_blank" rel="noopener">Azure Container Instances (ACI) を使用する</a>  </li></ul><hr><h2 id="仮想ネットワークの作成例"><a href="#仮想ネットワークの作成例" class="headerlink" title="仮想ネットワークの作成例"></a>仮想ネットワークの作成例</h2><p>「<a href="https://docs.microsoft.com/ja-jp/azure/virtual-network/manage-subnet-delegation#create-the-virtual-network" target="_blank" rel="noopener">サブネットの委任を追加または削除する - 仮想ネットワークの作成</a>」 の手順に従って進めます。  </p><ul><li><p>[基本] タブの設定例です。仮想ネットワークはワークスペースと同じリソースグループに作成します。同じリソースグル―プの既存の仮想ネットワークでも使用可能です。名前、地域は任意です。  </p> <img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-vnet1.png" width=600px>  </li><li><p>[IP アドレス] タブの設定例です。仮想ネットワークの IP アドレス帯は任意で変更可能です。サブネットはそのままで進めます。  </p> <img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-vnet2.png" width=600px>  </li></ul><p>[セキュリティ]、[タグ] タブも既定のまま進めると下記の画面に進みます。手順例では、リソースグループ amlrg に amlvnet1 という仮想ネットワークが作成されます。  </p>   <img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-vnet3.png" width=350px>  <br><hr><h2 id="サブネットの作成例"><a href="#サブネットの作成例" class="headerlink" title="サブネットの作成例"></a>サブネットの作成例</h2><p>作成した仮想ネットワークにサブネットを作成します。「<a href="https://docs.microsoft.com/ja-jp/azure/virtual-network/manage-subnet-delegation#delegate-a-subnet-to-an-azure-service" target="_blank" rel="noopener">サブネットの委任を追加または削除する - サブネットを Azure サービスに委任する</a>」 の手順に従って進めます。  </p><ul><li><p>サブネットの作成例です。名前、アドレス範囲は任意です。サブネットの委任に <code>Microsoft.ContainerInstance/containerGroups</code> を指定します。  </p> <img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-subnet1.png" width=250px>  </li></ul><p>ここまで進めると、amlvnet1 配下に default と amlsubnet1 サブネットが存在し、amlsubnet1 には委任先に <code>Microsoft.ContainerInstance/containerGroups</code> が設定されていることが確認できます。  </p><img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-subnet2.png" width=750px>  <br><hr><h2 id="仮想ネットワークへのモデル-デプロイ例"><a href="#仮想ネットワークへのモデル-デプロイ例" class="headerlink" title="仮想ネットワークへのモデル デプロイ例"></a>仮想ネットワークへのモデル デプロイ例</h2><p>SDK を使用して作成する必要があります。<a href="https://docs.microsoft.com/ja-jp/python/api/azureml-core/azureml.core.webservice.aci.aciwebservice?view=azure-ml-py#deploy-configuration-cpu-cores-none--memory-gb-none--tags-none--properties-none--description-none--location-none--auth-enabled-none--ssl-enabled-none--enable-app-insights-none--ssl-cert-pem-file-none--ssl-key-pem-file-none--ssl-cname-none--dns-name-label-none--primary-key-none--secondary-key-none--collect-model-data-none--cmk-vault-base-url-none--cmk-key-name-none--cmk-key-version-none--vnet-name-none--subnet-name-none-" target="_blank" rel="noopener">AciWebservice.deploy_configuration()</a> 関数の引数 vnet_name、subnet_name に作成した仮想ネットワークとサブネットを指定して deployment_config を作成し、<a href="https://docs.microsoft.com/en-us/python/api/azureml-core/azureml.core.model.model?view=azure-ml-py#deploy-workspace--name--models--inference-config-none--deployment-config-none--deployment-target-none--overwrite-false-" target="_blank" rel="noopener">Model.deploy()</a> に指定して実行します。具体的な手順は以下を参照ください。  </p><ul><li><p><a href="https://docs.microsoft.com/en-us/python/api/azureml-core/azureml.core.model.model?view=azure-ml-py#deploy-workspace--name--models--inference-config-none--deployment-config-none--deployment-target-none--overwrite-false-" target="_blank" rel="noopener">Model.deploy()</a> の実行には models や inference_config を事前に設定している必要があります。以下に、モデル ファイル model.pkl、Conda 依存関係ファイル myenv.yml、エントリ スクリプト ファイル score.py を基にして、それぞれ設定するコード スニペットを紹介します。    </p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> azureml.core <span class="keyword">import</span> Workspace</span><br><span class="line"><span class="keyword">from</span> azureml.core <span class="keyword">import</span> Environment</span><br><span class="line"><span class="keyword">from</span> azureml.core.model <span class="keyword">import</span> Model</span><br><span class="line"><span class="keyword">from</span> azureml.core.model <span class="keyword">import</span> InferenceConfig</span><br><span class="line"></span><br><span class="line">ws = Workspace.from_config()</span><br><span class="line">model = Model.register(model_path=<span class="string">"model.pkl"</span>,</span><br><span class="line">                       model_name=<span class="string">"mymodel"</span>,</span><br><span class="line">                       workspace=ws)</span><br><span class="line">env = Environment.from_conda_specification(name=<span class="string">'myenv'</span>, file_path=<span class="string">'myenv.yml'</span>)</span><br><span class="line">inference_config = InferenceConfig(entry_script=<span class="string">"score.py"</span>, environment=env)</span><br></pre></td></tr></table></figure></li><li><p>「<a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-deploy-azure-container-instance#using-the-sdk" target="_blank" rel="noopener">Azure Container Instances にモデルをデプロイする - SDK を使用する</a>」 のコードに vnet_name、subnet_name を追加して実行します。なお、location を指定しない場合 westus が設定されるため、仮想ネットワークが westus 以外の場合には location を指定する必要があります。以下にコード スニペットを紹介します。  </p> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> azureml.core.webservice <span class="keyword">import</span> AciWebservice, Webservice</span><br><span class="line"><span class="keyword">from</span> azureml.core.model <span class="keyword">import</span> Model</span><br><span class="line"></span><br><span class="line">deployment_config = AciWebservice.deploy_configuration(cpu_cores = <span class="number">1</span>, memory_gb = <span class="number">1</span>,</span><br><span class="line">    location = <span class="string">"japaneast"</span>, vnet_name = <span class="string">"amlvnet1"</span>, subnet_name = <span class="string">"amlsubnet1"</span>)</span><br><span class="line">service = Model.deploy(ws, <span class="string">"aciservice"</span>, [model], inference_config, deployment_config)</span><br><span class="line">service.wait_for_deployment(show_output = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li></ul><p>作成された REST エンドポイントは、Azure Machine Learning ポータルの [エンドポイント] から確認できます。以下画像では REST エンドポイントは <code>http://10.0.1.4/score</code> となっています。  </p><img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-aci.png" width=600px>  <br><hr><h2 id="参考-Web-サービスの動作確認例"><a href="#参考-Web-サービスの動作確認例" class="headerlink" title="参考: Web サービスの動作確認例"></a>参考: Web サービスの動作確認例</h2><p>Web サービスと同じ仮想ネットワーク上にあるコンピュート インスタンスから Web リクエストを実行する方法を紹介します。まず、<a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-enable-virtual-network#compute-clusters--instances" target="_blank" rel="noopener">こちらのサイト</a> を参照し、ネットワーク セキュリティ グループ (NSG) を作成します。下記画像ではリージョンの指定を省略しています。  </p><img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-nsg.png" width=800px>  <p>作成した NSG を amlvnet1 の default サブネットに設定します。  </p><img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-change-nsg.png" width=500px>  <p>amlvnet1 の default サブネットに Compute Instance を作成します。  </p><img src="https://jpmlblog.github.io/images/AML-deploy-aci-vnet/AML-create-compute.png" width=500px>  <p>作成したコンピュート インスタンス上で以下のコードを実行します。<a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-consume-web-service#call-the-service-python" target="_blank" rel="noopener">こちら</a> のサイトの手順が参考になります。  </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">scoring_uri = <span class="string">'http://10.0.1.4/score'</span></span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">"data"</span>:</span><br><span class="line">       [[ *** モデルに併せてデータを設定ください *** ]]</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">input_data  = json.dumps(rawdata)</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>&#125;</span><br><span class="line">resp = requests.post(scoring_uri, input_data , headers=headers)</span><br><span class="line">print(resp.text)</span><br></pre></td></tr></table></figure><br><hr><p><code>変更履歴</code><br><code>2020/08/18 created by Mochizuki</code>  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Azure Container Instances </tag>
            
            <tag> 仮想ネットワーク </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure Machine Learning のコスト見積もりについて</title>
      <link href="/blog/2020/06/18/AML-estimate-costs/"/>
      <url>/blog/2020/06/18/AML-estimate-costs/</url>
      
        <content type="html"><![CDATA[<p>Azure Machine Learning のコスト見積もりについて、参考となる情報を紹介します。</p><a id="more"></a><br><hr><p>本記事では具体的なコストの見積もり例を紹介します。<br>コストの管理に関する基本的な考え方は、下記サイトの内容を参照ください。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/concept-plan-manage-cost" target="_blank" rel="noopener">Azure Machine Learning のコストを計画して管理する</a>  </li></ul><hr><h2 id="コスト見積もり例について"><a href="#コスト見積もり例について" class="headerlink" title="コスト見積もり例について"></a>コスト見積もり例について</h2><p>Azure Machine Learning のワークスペース自体には課金は発生しません。ワークスペースで作成したリソースに課金が発生します。  </p><p>例えば、開発環境として使用する Azure Machine Learning コンピューティング インスタンスや、トレーニングの実行環境として使用する Azure Machine Learning コンピューティング クラスターは、稼働時間分が課金対象となります。また、作成したモデルをデプロイした場合、デプロイ先のサービスについても比較的大きな課金が発生します。参考に見積もり例を後述に紹介します。  </p><p>※ Enterprise エディションの追加料金は (6/8 現在) 発生しないため、考慮を省略します。  </p><p>※ ご利用方法によって試算より誤差が生じる場合がありますので、予めご留意ください。</p><ul><li><p>開発環境として Azure Machine Learning コンピューティング インスタンス (東日本リージョン、STANDARD_DS3_V2) を 1 日 10 時間、20 日間使用する場合  </p><p> → <code>45.808 [円/時間] x 10 [時間/日] x 20 [日] = 9161.6 [円]</code></p><ul><li>参考サイト<br><a href="https://azure.microsoft.com/ja-jp/pricing/details/machine-learning/" target="_blank" rel="noopener">Azure Machine Learning の価格</a>  </li></ul></li><li><p>トレーニング ターゲットとして Azure Machine Learning コンピューティング クラスター (東日本リージョン、STANDARD_DS3_V2) を最小 0 ノード、最大 2 ノードで作成し、2 ノードで 1 日 4 時間、20 日間使用する場合  </p><p> → <code>45.808 [円/時間/ノード] x 2 [ノード] x 4 [時間/日] x 20 [日] = 7329.28 [円]</code></p><ul><li>参考サイト<br><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/concept-compute-target#supported-vm-series-and-sizes" target="_blank" rel="noopener">サポートされている VM シリーズおよびサイズ</a><br><a href="https://azure.microsoft.com/ja-jp/pricing/calculator/?service=machine-learning-service" target="_blank" rel="noopener">料金計算ツール (+Azure Machine Learning)</a> </li></ul></li><li><p>推論用クラスターとして Azure Kubernetes Service の仮想マシン (東日本リージョン、STANDARD_DS12_V2) を 3 ノードで作成し、20 日間使用する場合  </p><blockquote><p>注意:<br> コア数合計を 12 以上で作成する必要があります。  </p></blockquote><p> → <code>51.408 [円/時間/ノード] x 3 [ノード] x 24 [時間/日] x 30 [日] = 111041.28 [円]</code></p><ul><li>参考サイト<br><a href="https://azure.microsoft.com/ja-jp/pricing/details/kubernetes-service/" target="_blank" rel="noopener">Azure Kubernetes Service (AKS) の価格</a><br><a href="https://azure.microsoft.com/ja-jp/pricing/calculator/?service=machine-learning-service" target="_blank" rel="noopener">料金計算ツール (+Azure Machine Learning)</a>  </li></ul></li><li><p>モデルを Azure Container Instance (vCPU 1、メモリ 2 GiB) にデプロイし、30 日間使用する場合  </p><blockquote><p>注意:<br> Azure Machine Learning で ACI にモデルをデプロイする場合、指定したコンテナーに加えて azureml-init-aci および azureml-fe-aci (それぞれ vCPU 0.1、メモリ 0.5 GiB) が作成されます。</p></blockquote><p> (vCPU)<br> 0.0015743 [円/秒/vCPU] x 1.2 [vCPU] x 3600 [秒/時間] x 24 [時間/日] x 30 [日] = 4896.70272 [円]<br> (メモリ)<br> 0.0001721 [円/秒/GiB] x 3 [Gib] x 3600 [秒/時間] x 24 [時間/日] x 30 [日] = 1338.2496 [円]<br> → <code>4896.70272 + 1338.2496 = 6234.95232 [円]</code></p><ul><li>参考サイト<br><a href="https://azure.microsoft.com/ja-jp/pricing/details/container-instances/" target="_blank" rel="noopener">Container Instances の価格</a><br><a href="https://azure.microsoft.com/ja-jp/pricing/calculator/?service=container-instances" target="_blank" rel="noopener">料金計算ツール (+Container Instance)</a>  </li></ul></li></ul><hr><h2 id="見積もりが難しいコストについて"><a href="#見積もりが難しいコストについて" class="headerlink" title="見積もりが難しいコストについて"></a>見積もりが難しいコストについて</h2><p>上記に加えて以下リソースの課金が発生いたします。これらはご利用方法によって金額が大きく異なりますため、試算を含めた見積もりを例示することができません。一般的に上述の料金と比較して数パーセント程度の小さい金額となりますため、一定期間ご利用いただいた後、実際の課金額を基に見積もることをお勧めします。  </p><ul><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/container-registry/" target="_blank" rel="noopener">Azure Container Registry Basic アカウント</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/storage/blobs/" target="_blank" rel="noopener">Azure ブロック BLOB Storage (汎用 v1)</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/key-vault/" target="_blank" rel="noopener">Key Vault</a>  </li></ul><hr><h2 id="見積もりの依頼について"><a href="#見積もりの依頼について" class="headerlink" title="見積もりの依頼について"></a>見積もりの依頼について</h2><p>弊社より見積もりの回答が必要な場合、営業担当のタスクとして対応しております。下記サイトよりご依頼ください。  </p><ul><li><a href="https://azure.microsoft.com/ja-jp/overview/sales-number/" target="_blank" rel="noopener">Azure 営業担当者に問い合わせる</a>  </li></ul><hr><p><code>変更履歴</code><br><code>2020/06/18 created by Mochizuki</code>  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 価格 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure Machine Learning Studio (Classic) ワークスペースを削除できない事象について</title>
      <link href="/blog/2020/06/09/AMLSC-cannot-delete/"/>
      <url>/blog/2020/06/09/AMLSC-cannot-delete/</url>
      
        <content type="html"><![CDATA[<p>Azure Machine Learning Studio (Classic) のワークスペース削除後も、課金が継続していたり、ポータルからワークスペースにアクセスできてしまう場合の対処方法をご紹介します。  </p><a id="more"></a><br><hr><p>Azure ポータルから対象のリソースを削除した後、そのリソースで継続して課金が発生しているといったお問い合わせを頂くことがございます。この現象は、リソースの削除時の操作や Azure サービス側の不具合等に起因して発生いたします。  </p><p>Azure Machine Learning Studio (Classic) ワークスペース リソースにおいても、稀にこの現象が発生することが確認できています。例えば、削除したはずのワークスペースの課金が継続していたり、削除したワークスペースへのアクセスができてしまうといった現象が報告されています。  </p><p>現在、 Machine Learning Studio (Classic) については Azure ポータルからのリソース削除で、課金を含むワークスペースの情報が完全に削除されるようシステムの改修を検討中です。一方で上記のような事象が実際に発生した場合の対処としては、該当リソースの手動削除を弊社開発部門にリクエストする必要がありますので、以下の手順で情報を採取して弊社サポート窓口までお問い合わせください。</p><ul><li>(1) 課金が発生しているワークスペース ID / リソース ID を確認  </li><li>(2) リソース削除を希望するサポート リクエストを発行</li></ul><p>それぞれ具体的な手順を後述にご紹介します。  </p><hr><div style="text-align: left;"><h3 id="1-ワークスペース-ID-リソース-ID-の確認手順"><a href="#1-ワークスペース-ID-リソース-ID-の確認手順" class="headerlink" title="(1) ワークスペース ID / リソース ID の確認手順"></a>(1) ワークスペース ID / リソース ID の確認手順</h3><p>課金対象になっているリソースの特定には、ワークスペース ID またはリソース ID が必要になります。どちらか一方の情報にて問題ございません。それぞれ確認方法は下記を参照ください。</p><ul><li><p>ワークスペース ID の確認方法</p><p> 「<a href="https://studio.azureml.net/Home" target="_blank" rel="noopener">Azure Machine Learning Studio (Classic) ワークスペース</a>」 にアクセスし、[Settings] メニューよりワークスペース ID を確認します。  </p><p> <img src="https://jpmlblog.github.io/images/AMLSC-cannot-delete/workspace-id.png" alt="workspace-id.png">  </p></li><li><p>リソース ID の確認方法</p><p> 「<a href="https://docs.microsoft.com/ja-jp/azure/cost-management-billing/manage/download-azure-invoice-daily-usage-date" target="_blank" rel="noopener">Azure の請求書と毎日の使用状況データをダウンロードまたは表示する</a>」 サイトの 「Azure 請求書 (.pdf) のダウンロード」 セクションの 4. の手順より csv ファイルをダウンロードし、ResourceId (ResourceId) の項目を確認します。  </p><p> <img src="https://jpmlblog.github.io/images/AMLSC-cannot-delete/download-invoice.png" alt="download-invoice.png">  </p><p> CSV ファイルの以下の列を確認ください。  </p><p> <img src="https://jpmlblog.github.io/images/AMLSC-cannot-delete/download-invoice-csv.png" alt="download-invoice-csv.png">  </p></li></ul><hr><h3 id="2-リソース削除を希望するサポート-リクエストを発行"><a href="#2-リソース削除を希望するサポート-リクエストを発行" class="headerlink" title="(2) リソース削除を希望するサポート リクエストを発行"></a>(2) リソース削除を希望するサポート リクエストを発行</h3><p>「<a href="https://docs.microsoft.com/ja-jp/azure/azure-portal/supportability/how-to-create-azure-support-request" target="_blank" rel="noopener">Azure サポート要求を作成する方法</a>」 サイトを参考にサポート リクエストを発行します。具体的な設定項目は下記を参照ください。これら以外はサポート リクエストの指示に従いご入力ください。</p><ul><li><p>[基本] タブの設定</p><p> 問題の種類やサービス、リソースなどはこちらを参考に設定します。  </p><p> <img src="https://jpmlblog.github.io/images/AMLSC-cannot-delete/support-request.png" alt="support-request.png"><br> ※ Azure ポータルの言語設定を English にしている場合には、サービスは [Machine Learning Studio] を選択ください。</p></li><li><p>[詳細] タブの設定</p><p> [詳細] タブの [* 詳細] 欄に、確認したワークスペース ID またはリソース ID を記載します。  </p><p> <img src="https://jpmlblog.github.io/images/AMLSC-cannot-delete/support-request-detail.png" alt="support-request-detail.png">  </p><br></li></ul></div><p>上記内容が問題解消に向けた手助けとなりましたら幸いです。  </p><hr><p><code>変更履歴</code><br><code>2020/06/09 created by Mochizuki</code> </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning Studio (Classic) </category>
          
      </categories>
      
      
        <tags>
            
            <tag> リソース削除 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure Machine Learning の参考となる公開情報について</title>
      <link href="/blog/2020/04/22/reference-websites/"/>
      <url>/blog/2020/04/22/reference-websites/</url>
      
        <content type="html"><![CDATA[<p>Azure Machine Learninig のご利用にあたり、参考となる公開情報を紹介します。</p><a id="more"></a><br><hr><h2 id="Azure-Machine-Learning-関連サイト"><a href="#Azure-Machine-Learning-関連サイト" class="headerlink" title="Azure Machine Learning 関連サイト"></a>Azure Machine Learning 関連サイト</h2><p>Azure Machine Learning の技術ドキュメント、価格、更新情報など。専用ポータルは <a href="https://ml.azure.com/" target="_blank" rel="noopener">こちら</a>。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/" target="_blank" rel="noopener">Azure Machine Learning のドキュメント</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/azure-machine-learning-release-notes" target="_blank" rel="noopener">Azure Machine Learning のリリース ノート</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/machine-learning/" target="_blank" rel="noopener">Azure Machine Learning の価格</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/resource-known-issues" target="_blank" rel="noopener">Azure Machine Learning の既知の問題とトラブルシューティング</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/updates/?product=machine-learning-service" target="_blank" rel="noopener">Azure の更新情報 (?product=machine-learning-service)</a>  </li></ul><p>過去の Q&amp;A、新規 Q&amp;A、機能改善のフィードバックなど。</p><ul><li><a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=AzureMachineLearningService" target="_blank" rel="noopener">(旧) Q&amp;A</a>  </li><li><a href="https://docs.microsoft.com/en-us/answers/topics/azure-machine-learning.html" target="_blank" rel="noopener">Q&amp;A</a>  </li><li><a href="https://feedback.azure.com/forums/257792-machine-learning" target="_blank" rel="noopener">feedback forum</a>  </li><li><a href="https://stackoverflow.com/questions/tagged/azure-machine-learning-service" target="_blank" rel="noopener">Stack Overflow</a></li></ul><hr><h2 id="Azure-Machine-Learning-Studio-Classic-関連サイト"><a href="#Azure-Machine-Learning-Studio-Classic-関連サイト" class="headerlink" title="Azure Machine Learning Studio (Classic) 関連サイト"></a>Azure Machine Learning Studio (Classic) 関連サイト</h2><p>Azure Machine Learning Studio (Classic) の技術ドキュメント、価格、更新情報など。専用ポータルは <a href="https://studio.azureml.net/" target="_blank" rel="noopener">こちら</a>。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/" target="_blank" rel="noopener">Azure Machine Learning Studio (classic) のドキュメント</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/machine-learning-studio/" target="_blank" rel="noopener">Machine Learning Studio の価格</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/updates/?product=machine-learning-studio" target="_blank" rel="noopener">Azure の更新情報 (?product=machine-learning-studio)</a>  </li></ul><p>過去の Q&amp;A、新規 Q&amp;A、機能改善のフィードバックなど。</p><ul><li><a href="https://social.msdn.microsoft.com/Forums/en-US/home?forum=MachineLearning" target="_blank" rel="noopener">(旧) フォーラム サイト</a></li><li><a href="https://docs.microsoft.com/en-us/answers/topics/azure-machine-learning-studio-classic.html" target="_blank" rel="noopener">フォーラム サイト</a></li><li><a href="https://feedback.azure.com/forums/257792-machine-learning" target="_blank" rel="noopener">feedback forum</a>  </li><li><a href="https://stackoverflow.com/questions/tagged/azure-machine-learning-studio" target="_blank" rel="noopener">Stack Overflow</a>  </li></ul><hr><h2 id="機械学習の前提知識習得向け参考サイト"><a href="#機械学習の前提知識習得向け参考サイト" class="headerlink" title="機械学習の前提知識習得向け参考サイト"></a>機械学習の前提知識習得向け参考サイト</h2><p>機械学習に関する概要情報、学習用のコンテンツなど。</p><ul><li><a href="https://azure.microsoft.com/ja-jp/overview/what-is-machine-learning-platform/" target="_blank" rel="noopener">機械学習とは何ですか?</a></li><li><a href="https://azure.microsoft.com/ja-jp/overview/machine-learning-algorithms/" target="_blank" rel="noopener">機械学習アルゴリズム</a></li><li><a href="https://docs.microsoft.com/ja-jp/learn/browse/?term=%E6%A9%9F%E6%A2%B0%E5%AD%A6%E7%BF%92" target="_blank" rel="noopener">ラーニング パス (?term=機械学習)</a></li><li><a href="https://docs.microsoft.com/ja-jp/learn/browse/?products=azure-machine-learning-service" target="_blank" rel="noopener">ラーニング パス (?products=azure-machine-learning-service)</a>  </li><li><a href="https://www.youtube.com/watch?v=xx-meKk03YY" target="_blank" rel="noopener">とっても便利! Azure Machine Leaning</a>  </li><li>初心者向けデータ サイエンス解説ビデオ<blockquote><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/data-science-for-beginners-the-5-questions-data-science-answers" target="_blank" rel="noopener">データ サイエンスが回答する 5 つの質問</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/data-science-for-beginners-is-your-data-ready-for-data-science" target="_blank" rel="noopener">データ サイエンス用のデータの準備はお済みですか?</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/data-science-for-beginners-ask-a-question-you-can-answer-with-data" target="_blank" rel="noopener">データで回答できる質問をする</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/data-science-for-beginners-predict-an-answer-with-a-simple-model" target="_blank" rel="noopener">単純なモデルで回答を予測する</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/studio/data-science-for-beginners-copy-other-peoples-work-to-do-data-science" target="_blank" rel="noopener">他のユーザーの成果物をコピーしてデータ サイエンスを実行する</a></li></ul></blockquote></li></ul><hr><h2 id="導入検討向け参考サイト"><a href="#導入検討向け参考サイト" class="headerlink" title="導入検討向け参考サイト"></a>導入検討向け参考サイト</h2><p>Azure Machine Learning の導入によるメリットや考慮事項、事例など。</p><ul><li><a href="https://azure.microsoft.com/ja-jp/services/machine-learning/" target="_blank" rel="noopener">Azure Machine Learning</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning?context=azure/machine-learning/service/context/ml-context#azure-machine-learning" target="_blank" rel="noopener">Microsoft の機械学習製品とは (#azure-machine-learning)</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning?context=azure/machine-learning/service/context/ml-context#azure-ml-studio-classic" target="_blank" rel="noopener">Microsoft の機械学習製品とは (#azure-ml-studio-classic)</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/compare-azure-ml-to-studio-classic" target="_blank" rel="noopener">Azure Machine Learning と Machine Learning Studio (classic) の違い</a>  </li><li><a href="https://customers.microsoft.com/ja-jp/search?sq=%22Azure%20Machine%20Learning%22&ff=&p=2&so=story_publish_date%20desc" target="_blank" rel="noopener">お客様事例の検索 (?sq=”Azure Machine Learning”)</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/browse/#ai--machine-learning" target="_blank" rel="noopener">Azure のアーキテクチャ (#ai–machine-learning)</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/solutions/architecture/?query=machine+learning" target="_blank" rel="noopener">Azure ソリューション アーキテクチャ (?query=machine+learning)</a>  </li></ul><hr><h2 id="開発者向け参考サイト"><a href="#開発者向け参考サイト" class="headerlink" title="開発者向け参考サイト"></a>開発者向け参考サイト</h2><p>Azure Machine Learning を使用して機械学習を開発するための API リファレンスやサンプルなど。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/python/api/overview/azure/ml/?view=azure-ml-py" target="_blank" rel="noopener">Azure Machine Learning SDK for Python とは</a>  </li><li><a href="https://github.com/Azure/MachineLearningNotebooks" target="_blank" rel="noopener">Python notebooks with ML and deep learning examples with Azure Machine Learning</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/algorithm-module-reference/module-reference" target="_blank" rel="noopener">Azure Machine Learning デザイナーのアルゴリズムとモジュールのリファレンス (プレビュー)</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/azureml/" target="_blank" rel="noopener">機械学習 REST API リファレンス</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/reference-azure-machine-learning-cli" target="_blank" rel="noopener">Azure Machine Learning 用の CLI 拡張機能を使用する</a>  </li><li><a href="https://docs.microsoft.com/en-us/samples/browse/?products=azure-machine-learning-service" target="_blank" rel="noopener">Browse code samples</a></li></ul><hr><p><code>変更履歴</code><br><code>2020/04/22 created by Mochizuki</code><br><code>2020/06/08 modified by Mochizuki</code><br><code>2020/06/18 modified by Mochizuki</code><br><br><br>※ 適宜追加更新します。  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning 全般 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 参考情報 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>FAQ</title>
      <link href="/blog/2020/04/22/FAQ/"/>
      <url>/blog/2020/04/22/FAQ/</url>
      
        <content type="html"><![CDATA[<p>よくあるご質問とその回答をまとめております。</p><a id="more"></a><br><hr><h4 id="製品を理解するために参考となる公開情報を教えて欲しい"><a href="#製品を理解するために参考となる公開情報を教えて欲しい" class="headerlink" title="製品を理解するために参考となる公開情報を教えて欲しい"></a>製品を理解するために参考となる公開情報を教えて欲しい</h4><details><summary style="font-size: 10pt">回答</summary><p>別途ブログ記事として掲載しております。以下リンクより参照ください。<br><a href="https://jpmlblog.github.io/blog/2020/04/22/reference-websites/">参考となる公開情報について</a>  </p></details><hr><h4 id="Machine-Learning-ワークスペースを別のリソース-グル―プまたは別のサブスクリプションに移動することは可能か"><a href="#Machine-Learning-ワークスペースを別のリソース-グル―プまたは別のサブスクリプションに移動することは可能か" class="headerlink" title="Machine Learning ワークスペースを別のリソース グル―プまたは別のサブスクリプションに移動することは可能か"></a>Machine Learning ワークスペースを別のリソース グル―プまたは別のサブスクリプションに移動することは可能か</h4><details><summary style="font-size: 10pt">回答</summary><p>不可能です。参考となる情報を紹介します。<br><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/concept-workspace#workspace-management" target="_blank" rel="noopener">Azure Machine Learning ワークスペースとは (#workspace-management)</a>  </p><blockquote><p>! 警告<br>Azure Machine Learning ワークスペースを別のサブスクリプションに移動したり、所有するサブスクリプションを新しいテナントに移動したりすることは、サポートされていません。 エラーの原因になります。</p></blockquote></details><hr><h4 id="セキュリティ要件のため各リソースへのアクセスを制限することは可能か"><a href="#セキュリティ要件のため各リソースへのアクセスを制限することは可能か" class="headerlink" title="セキュリティ要件のため各リソースへのアクセスを制限することは可能か"></a>セキュリティ要件のため各リソースへのアクセスを制限することは可能か</h4><details><summary style="font-size: 10pt">回答</summary><p>認証やアクセス権の付与、ネットワーク的な隔離、監視など、Azure Machine Learning で利用できるセキュリティ機能について、以下サイトにて纏めております。<br><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/concept-enterprise-security" target="_blank" rel="noopener">Azure Machine Learning のエンタープライズ セキュリティ</a>  </p><p>一部抜粋を紹介します。  </p><ul><li><p><strong>ストレージ サービスへのアクセスを制限する</strong><br> 以下サイトに記載の認証方法をサポートしています。<br> <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-access-data#supported-data-storage-service-types" target="_blank" rel="noopener">Azure Storage サービスに接続する (#supported-data-storage-service-types)</a></p></li><li><p><strong>Web サービスへのアクセスを制限する</strong><br> TLS 1.2 の有効化、キーベースまたはトークン ベースの認証を有効化する方法があります。<br> <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-secure-web-service" target="_blank" rel="noopener">TLS を使用して Azure Machine Learning による Web サービスをセキュリティで保護する</a><br> <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-setup-authentication#web-service-authentication" target="_blank" rel="noopener">Azure Machine Learning のリソースとワークフローの認証を設定する (#web-service-authentication)</a>  </p></li><li><p><strong>外部ネットワークからのアクセスを制限する</strong><br> 仮想ネットワークや Private Link を使用する方法があります。<br> <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-enable-virtual-network" target="_blank" rel="noopener">プライベート仮想ネットワークを使用して機械学習のライフサイクルをセキュリティで保護する</a><br> <a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/how-to-configure-private-link" target="_blank" rel="noopener">Azure Machine Learning ワークスペースの Azure Private Link を構成する (プレビュー)</a>  </p><p> 公開情報に記載のない利用方法 (例えば、Azure SQL Server の「ファイアウォールと仮想ネットワーク」機能の使用など) はサポートされておりません。詳細につきましては <a href="https://docs.microsoft.com/en-us/azure/machine-learning/how-to-enable-virtual-network" target="_blank" rel="noopener">こちら</a> のサイトの注意書きを参照ください。  </p><blockquote><p>! Warning<br> If your underlying storage is in a virtual network, users will not be able to use Azure Machine Learning’s studio web experience, including:</p><ul><li>drag-n-drop designer</li><li>UI for automated machine learning</li><li>UI for data labeling</li><li>UI for data sets</li><li>Notebooks</li></ul><p>If you try, you will receive a message similar to the following error: __Error: Unable to profile this dataset. This might be because your data is stored behind a virtual network or your data does not support profile.__</p></blockquote></li></ul></details><hr><h4 id="機能の説明にある-「プレビュー」-とは何か"><a href="#機能の説明にある-「プレビュー」-とは何か" class="headerlink" title="機能の説明にある 「プレビュー」 とは何か"></a>機能の説明にある 「プレビュー」 とは何か</h4><details><summary style="font-size: 10pt">回答</summary><p>Azure には、マイクロソフトがお客様のご意見を収集するために提供する、プレビュー版、ベータ版、またはその他のプレリリース版の機能、サービス、ソフトウェア、またはリージョン (以下、「プレビュー」といいます) が含まれる場合があります。以下サイトの使用条件に合意することを条件に、プレビューを使用することができます。<br><a href="https://azure.microsoft.com/ja-jp/support/legal/preview-supplemental-terms/" target="_blank" rel="noopener">Microsoft Azure プレビューの追加使用条件</a>    </p><blockquote><ol><li>「現状有姿のまま」「瑕疵を問わない条件」「提供可能な場合に限り提供しうる形で」提供される  </li><li>サービス レベル契約および限定的保証の対象とはならない</li><li>カスタマー サポートの対象とならない</li><li>随時予告なくプレビューを変更または中止することがある</li><li>「一般向け提供製品」でリリースしないことを選択する場合がある</li></ol></blockquote><p>プレビューは開発段階のサービス・機能でもあるため、公開中のドキュメントと異なる仕様があったり、メンテナンスに伴い使用できなくなることがあります。以下のようなご質問につきましては、基本的に Azure サポートから回答を提供することが難しいことをご理解ください。  </p><ul><li>一般サービス提供開始予定</li><li>予期しない動作の原因調査</li><li>公開情報にない仕様の確認</li></ul><p>提供開始となった際には <a href="https://azure.microsoft.com/ja-jp/updates/?status=nowavailable&product=machine-learning-service,machine-learning-studio" target="_blank" rel="noopener">Azure の更新情報</a> サイトより通知されます。また、Azure ポータルまたは Azure Machine Learning のポータルで通知される場合もあります。   </p></details><hr><h4 id="コストの見積もり方を知りたい"><a href="#コストの見積もり方を知りたい" class="headerlink" title="コストの見積もり方を知りたい"></a>コストの見積もり方を知りたい</h4><details><summary style="font-size: 10pt">回答</summary>コストの見積もり例について下記記事に纏めています。  <ul><li><a href="https://jpmlblog.github.io/blog/2020/06/18/AML-estimate-costs/">Azure Machine Learning のコスト見積もりについて</a>  </li></ul><p>その他、コスト見積もりの参考となる公開情報を紹介します。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/concept-plan-manage-cost" target="_blank" rel="noopener">Azure Machine Learning のコストを計画して管理する</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/details/machine-learning/" target="_blank" rel="noopener">Azure Machine Learning の価格</a>  </li><li><a href="https://azure.microsoft.com/ja-jp/pricing/calculator/?service=machine-learning-service" target="_blank" rel="noopener">料金計算ツール (+Azure Machine Learning)</a>  </li></ul><p>弊社より見積もりの回答が必要な場合、営業担当のタスクとして対応しております。下記サイトよりご依頼ください。  </p><ul><li><a href="https://azure.microsoft.com/ja-jp/overview/sales-number/" target="_blank" rel="noopener">Azure 営業担当者に問い合わせる</a></details></li></ul><hr><h4 id="Azure-Machine-Learning-Studio-Classic-と-Azure-Machine-Learning-のデザイナー機能はどのような違いがあるか"><a href="#Azure-Machine-Learning-Studio-Classic-と-Azure-Machine-Learning-のデザイナー機能はどのような違いがあるか" class="headerlink" title="Azure Machine Learning Studio (Classic) と Azure Machine Learning のデザイナー機能はどのような違いがあるか"></a>Azure Machine Learning Studio (Classic) と Azure Machine Learning のデザイナー機能はどのような違いがあるか</h4><details><summary style="font-size: 10pt">回答</summary>それぞれ GUI ベースで機械学習を行うサービスとなりますが、新・旧という形では分けられておらず、データの移行にも対応していません。    <ul><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning?context=azure/machine-learning/service/context/ml-context#azure-machine-learning" target="_blank" rel="noopener">Azure Machine Learning</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/architecture/data-guide/technology-choices/data-science-and-machine-learning?context=azure/machine-learning/service/context/ml-context#azure-ml-studio-classic" target="_blank" rel="noopener">Azure ML Studio (クラシック)</a>  </li></ul><p>具体的な差異は以下サイトに纏められております。</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/machine-learning/compare-azure-ml-to-studio-classic" target="_blank" rel="noopener">Azure Machine Learning と Machine Learning Studio (classic) の違い</a></details></li></ul><hr><h4 id="リソース名に平仮名や漢字を使用可能か"><a href="#リソース名に平仮名や漢字を使用可能か" class="headerlink" title="リソース名に平仮名や漢字を使用可能か"></a>リソース名に平仮名や漢字を使用可能か</h4><details><summary style="font-size: 10pt">回答</summary>使用可能な文字はありますが、予期せぬエラーが発生しリソース作成が失敗する場合があるため、推奨しません。  <p>リソース グループ名やリソース名には、有効な文字を指定させていただいております。下記情報に従い、リソース グループ名を英数字とハイフンのみを使用して作成ください。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/azure-resource-manager/management/resource-name-rules#microsoftmachinelearningservices" target="_blank" rel="noopener">Microsoft.MachineLearningServices</a><blockquote><p>Microsoft.MachineLearningServices  </p><table><thead><tr><th align="left">Entity</th><th align="left">Scope</th><th align="left">長さ</th><th align="left">有効な文字</th></tr></thead><tbody><tr><td align="left">workspaces</td><td align="left">resource group</td><td align="left">3-33</td><td align="left">英数字とハイフン。</td></tr><tr><td align="left">workspaces / computes</td><td align="left">ワークスペース</td><td align="left">2-16</td><td align="left">英数字とハイフン。</td></tr></tbody></table></blockquote></details></li></ul><hr><p><code>変更履歴</code><br><code>2020/04/22 created by Mochizuki</code><br><code>2020/06/18 modified by Mochizuki</code><br><code>2020/08/26 modified by Mochizuki</code><br><br><br>※ 適宜追加更新します。  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning 全般 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> FAQ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AutoML の同時実行数制限について</title>
      <link href="/blog/2020/04/06/AML-limitation-of-AutoML-concurrency/"/>
      <url>/blog/2020/04/06/AML-limitation-of-AutoML-concurrency/</url>
      
        <content type="html"><![CDATA[<p><a href="https://ml.azure.com/" target="_blank" rel="noopener">Microsoft Azure Machine Learning ポータル</a> より Automated Machine Learninig (以降、AutoML と記載) を複数同時実行する際の制限事項について紹介します。  </p><a id="more"></a><br><hr><p>AutoML の実行にはワークスペース単位で同時実行できる数に制限が存在します。明確に同時実行が可能な数が設定されているものではなく、AutoML の実行に関連するリソースへの負荷が一定値を上回った場合に実行が制限される動作となります。サービス側内部構造上、主にリソース間のコミュニケーションを中継するネットワーク リソースに負荷が集中する仕組みとなっています。</p><p>以下図はトレーニング実行時のデータ フローの例です。Training Compute はサイズ変更が可能ですが、それ以外のデータを処理するリソース (通信経路上のネットワーク リソース等) の処理能力をスケール アップすることができないため、負荷が高まることで応答が遅延またはエラーが返され、処理がストップする場合があります。 </p><p><img src="https://docs.microsoft.com/ja-jp/azure/machine-learning/media/concept-enterprise-security/training-and-metrics.png" alt="トレーニング時のデータフロー例"></p><p>現在、リソース間の不要なポーリング等を減らして同時実行数の向上を計るなど対応を検討しています。将来的に 100 程度の同時実行が許容できる見込みです。推奨としては、1 ワークスペース 50 の同時実行を目安に運用をご検討ください。  </p><blockquote><p>注意<br>データセンター側の物理的なリソース不足に起因して同時実行が失敗する場合もあります。タイミングによっては許容される同時実行数が少なくなる場合があることをご留意ください。</p></blockquote><hr><p><code>変更履歴</code><br><code>2020/04/06 created by Mochizuki</code>  </p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AutoML </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jpmlblog について</title>
      <link href="/blog/2020/01/01/about-jpmlblog/"/>
      <url>/blog/2020/01/01/about-jpmlblog/</url>
      
        <content type="html"><![CDATA[<p>日本マイクロソフトの Azure Machine Learning に関するサポート情報のブログです。</p><h3 id="公開日"><a href="#公開日" class="headerlink" title="公開日"></a>公開日</h3><p>2020 年 1 月 1 日より公開いたしました。</p><h3 id="活動について"><a href="#活動について" class="headerlink" title="活動について"></a>活動について</h3><p>製品のサポート メンバーによって運用されております。仕様に関する情報やトラブル シューティングの手順、実装におけるワンポイント アドバイスを公開いたします。</p><h3 id="留意事項"><a href="#留意事項" class="headerlink" title="留意事項"></a>留意事項</h3><p>サイトのコンテンツや情報において、可能な限り正確な情報を掲載し、更新するよう努めております。しかしながら、状況の変化や情報が古くなることにより、必ずしもお客様環境に適用できない情報となる場合がございます。恐れ入りますが、予めご留意くださいますようお願い申し上げます。</p>]]></content>
      
      
      <categories>
          
          <category> Azure Machine Learning 全般 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> はじめに </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
